using?System.Collections;
using?System.Collections.Generic;
using?UnityEngine;

public?class?script_3_20?:?MonoBehaviour?{

????//donghuashuzu
????private?Object[]?animUp;
????private?Object[]?animDown;
????private?Object[]?animLeft;
????private?Object[]?animRight;

????//map?texture
????public?Texture2D?map;
????//people
????private?Object[]?tex;
????//x
????private?int?x;
????//y
????private?int?y;
????//frame
????private?int?nowFrame;
????//frame?count
????private?int?mFrameCount;

????private?float?fps?=?10;
????private?float?time?=?0;

????//?Use?this?for?initialization
????void?Start?()?{
????????//picture?resource
????????animUp?=?Resources.LoadAll?("up");
????????animDown?=?Resources.LoadAll?("down");
????????animLeft?=?Resources.LoadAll?("left");
????????animRight?=?Resources.LoadAll?("right");

????????//map?resource
????????//map=Resources.LoadAll("map/map");
????????//defalut?anim
????????tex=animUp;
????}

????void?OnGUI(){
????????GUI.DrawTexture?(new?Rect?(0,?0,?Screen.width,?Screen.height),?map,?ScaleMode.StretchToFill,?true,?0);

????????DrawAnimation?(tex,?new?Rect?(x,?y,?32,?48));

????????if?(GUILayout.RepeatButton?("向上"))?{
????????????y?-=?2;
????????????tex?=?animUp;
????????}
????????if?(GUILayout.RepeatButton?("向下"))?{
????????????y?+=?2;
????????????tex?=?animDown;
????????}
????????if?(GUILayout.RepeatButton?("向左"))?{
????????????x?-=?2;
????????????tex?=?animLeft;
????????}
????????if?(GUILayout.RepeatButton?("向右"))?{
????????????x?+=?2;
????????????tex?=?animRight;
????????}
????}

????void?DrawAnimation(Object[]?tex,Rect?rect){
????????GUI.DrawTexture?(rect,?(Texture2D)tex?[nowFrame],?ScaleMode.StretchToFill,?true,?0);
????????time?+=?Time.deltaTime;
????????if?(time?>=?1.0?/?fps)?{
????????????nowFrame++;
????????????time?=?0;
????????????if?(nowFrame?>=?tex.Length)?{
????????????????nowFrame?=?0;
????????????}
????????}
????}
????//?Update?is?called?once?per?frame
????void?Update?()?{
????????
????}
}